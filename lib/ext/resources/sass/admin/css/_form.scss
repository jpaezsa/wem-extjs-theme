@import "../variables/core";
@import "../variables/form";

/**
 * Fieldset
 */
.x-fieldset {
    border-top: 1px solid $admin-field-border-color !important;
}

.x-fieldset-with-title .x-tool,
.x-fieldset-header-checkbox {
    margin-right: 0 !important;
}

.x-fieldset-with-title .x-tool,
.x-fieldset-header-checkbox,
.x-fieldset-header-text {
    border-bottom: 1px solid $admin-field-border-color;
    margin-bottom: 7px !important;
}

.x-fieldset-header .x-fieldset-header-text {
    padding-left: 7px !important;
}

/**
 * Combo box
 * Trigger and Spinner
 */

// Trigger
.x-form-arrow-trigger,
.x-form-date-trigger,
.x-form-time-trigger {
    background-image: url("../themes/images/default/form/admin-trigger.gif") !important;
    background-repeat: no-repeat;
    border-width: $form-field-border-width $form-field-border-width $form-field-border-width medium !important;
    border-style: solid solid solid none !important;
    border-color: $admin-field-border-color $admin-field-border-color $admin-field-border-color !important;
    border-left: none !important;
}

.admin-search-trigger input {
    background-image: url("../themes/images/default/form/admin-search-trigger-v.gif") !important;
    background-repeat: no-repeat !important;
    background-position: right top !important;
    padding-right: 30px;
}

// Spinner
.x-form-trigger-wrap .x-form-spinner-up,
.x-form-trigger-wrap .x-form-spinner-down {
    background-image: url("../themes/images/default/form/admin-spinner.gif") !important;
    border-top: none !important;
    border-right: $form-field-border-width solid $admin-field-border-color !important;
    border-bottom: none !important;
    border-left: none !important;
}

.x-form-trigger-wrap .x-form-spinner-up {
    border-top: 1px solid $admin-field-border-color !important;
}

.x-form-trigger-wrap .x-form-spinner-down {
    border-bottom: 1px solid $admin-field-border-color !important;
}

// Disabled
.x-item-disabled .x-form-arrow-trigger {
    opacity: .3;
}

// Focused
.x-form-trigger-wrap-focus .x-form-trigger {
    border-width: $form-field-border-width $form-field-border-width $form-field-border-width medium !important;
    border-style: solid solid solid none !important;
    border-color: $admin-field-focus-border-color $admin-field-focus-border-color $admin-field-focus-border-color !important;
}

.x-form-trigger-wrap-focus .x-form-spinner-up {
    border-bottom: none !important;
}

.x-form-trigger-wrap-focus .x-form-spinner-down {
    border-top: none !important;
}

// Invalid
.x-form-invalid .x-form-arrow-trigger,
.x-form-invalid .x-form-date-trigger,
.x-form-invalid .x-form-time-trigger {
    border-width: $form-field-border-width $form-field-border-width $form-field-border-width medium !important;
    border-style: solid solid solid none !important;
    border-color: $admin-field-invalid-border-color $admin-field-invalid-border-color $admin-field-invalid-border-color !important;
}

.x-form-invalid-field, textarea.x-form-invalid-field {
    background-image: none !important;
}

/**
 * Date picker
 * Currently it is not possible to override anything in the datepicker object.
 */
.x-datepicker-header {
    background-color: #fff !important;
    background-image: none !important;
}

.x-datepicker-month button .x-btn-inner {
    color: $color !important;
}

/**
 *  Inputs
 */
.x-form-text, textarea.x-form-field {
    background: none #fff !important;
}

/**
* CodeMirror
*/
.CodeMirror {
    border: 1px solid $admin-field-border-color;
}

/**
* Content Manager Form Components
*/
/*.admin-formitemset-block {
    border: 1px solid $admin-light-grey !important;
    border-radius: 3px;
}*/

.admin-formitemset-block .header {
    border-bottom: 1px solid $admin-light-grey
}

.admin-text-button {
    color: #0070DE;
    text-decoration: underline;
    cursor: pointer;
}

/**
* Form item set
*/
.admin-formitemset-container {
    background-color: $admin-light-grey;
    > div {
        > .x-panel.x-column {
            width: 100%;
        }
    }
}

.admin-formitemset-block {
    background-color: #fff;
    border: 0;
    border-radius: 0;
}

.form-item-set {
    .admin-formitemset-block {
        border: none !important;
        box-shadow: 0 0 4px #777;
        border-radius: 0;

        .header {
            border: none;
        }
    }

    .icon-grey {
        color: #777777;
    }

    /* Sub form-item-sets needs to be padded */
    .form-item-set {
        .admin-formitemset-block {
            background-color: #f9f9f9;
        }

        .form-item-set {
            .admin-formitemset-block {
                background-color: #ffffff;
            }

            .form-item-set {
                .admin-formitemset-block {
                    background-color: #f9f9f9;
                }
            }
        }
    }

}

/* To allow box-shadow, we must override overflow: hidden on containing elements. */
.admin-wizard {
    .x-fieldset-body,
    .x-panel-body,
    .x-fit-item,
    .x-panel {
        overflow: visible;
    }
}

/* Fix for fieldset/legend in Firefox (see CMS-1013). We should try to find a better workaround */
body:not(:-moz-handler-blocked) .x-fieldset-header .x-fieldset-header-text {
    padding: 0;
}
